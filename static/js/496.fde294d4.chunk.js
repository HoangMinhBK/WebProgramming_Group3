"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[496],{6496:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r=n(8214),a=n(5861),s=n(885),u=n(4554),i=n(890),c=n(9727),o=n(2996),l=n(9142),d=n(8742),f=n(2904),h=n(7394),p=n(2791),g=n(9011),x=n(4569),b=n.n(x),m=n(4038);function y(e,t){return k.apply(this,arguments)}function k(){return(k=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a,s,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={username:t,password:n},e.prev=1,e.next=4,b().post(m.v+"login",a);case 4:if(200!==(s=e.sent).status){e.next=9;break}return localStorage.setItem("account",t),localStorage.setItem("jwt",s.data.token),e.abrupt("return",s.status);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null===(u=e.t0.response)||void 0===u?void 0:u.status);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}var v=n(3412),Z=n(184);function j(){var e=(0,l.v)(),t=(e.aliceBlue,e.uranianBlue,e.lightSkyBlue,e.blueJeans,e.blueJeans2),n=e.dodgerBlue,x=e.bleuDeFrance,b=(e.brightNavyBlue,e.greenBlue,e.cobaltBlue),m=(0,d.k6)(),k=(0,p.useState)(""),j=(0,s.Z)(k,2),w=j[0],B=j[1],C=(0,p.useState)(""),S=(0,s.Z)(C,2),F=S[0],I=S[1],D=(0,p.useState)(""),W=(0,s.Z)(D,2),L=W[0],P=W[1],R=(0,g.e)().setAccount,_=(0,v.Ds)().enqueueSnackbar;return(0,p.useEffect)((function(){console.log(L),200===L?(R(w),_("Login successfully!",{variant:"success"}),m.push("/"),P("")):404===L&&(R(void 0),_("Login Failed! Please try again!",{variant:"error"}),P(""))}),[_,m,R,L,w]),(0,Z.jsx)(u.Z,{height:"100vh",width:"100%",sx:{backgroundImage:"linear-gradient(to bottom, ".concat(b," , ").concat(t,"), url(").concat(f,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundBlendMode:"multiply",backgroundOpacity:.3,backgroundBlur:"100px"},display:"flex",justifyContent:"center",alignItems:"center",children:(0,Z.jsx)(u.Z,{height:500,width:400,display:"flex",flexDirection:"column",sx:{background:"white",borderRadius:5},justifyContent:"center",alignItems:"center",children:(0,Z.jsxs)(u.Z,{height:400,width:350,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",children:[(0,Z.jsx)(i.Z,{variant:"h5",sx:{fontFamily:"ubuntu",fontWeight:"bold"},children:"Login to HUST Manga"}),(0,Z.jsxs)(u.Z,{width:350,display:"flex",flexDirection:"column",alignItems:"center",children:[(0,Z.jsx)(c.Z,{type:"text",label:"Username",fullWidth:!0,sx:{mb:3},onChange:function(e){return B(e.target.value)}}),(0,Z.jsx)(c.Z,{label:"Password",type:"password",fullWidth:!0,sx:{mb:3},onChange:function(e){return I(e.target.value)}}),(0,Z.jsx)(o.Z,{variant:"contained",fullWidth:!0,type:"submit",disabled:""===w||""===F,sx:{height:50,background:n,mb:3},onClick:(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(w,F);case 2:t=e.sent,P(t);case 4:case"end":return e.stop()}}),e)}))),children:(0,Z.jsx)(i.Z,{sx:{fontFamily:"ubuntu",fontWeight:"bold"},children:"Login"})}),(0,Z.jsxs)(u.Z,{display:"flex",children:[(0,Z.jsxs)(i.Z,{sx:{fontFamily:"ubuntu",mr:.5},children:["Don't have an account?"," "]}),(0,Z.jsx)(i.Z,{onClick:function(){return m.push("/register")},sx:{fontFamily:"ubuntu",cursor:"pointer",color:x},children:"Register"})]})]}),(0,Z.jsxs)(u.Z,{display:"flex",sx:{cursor:"pointer"},onClick:function(){return m.push("/")},children:[(0,Z.jsx)(h.Z,{sx:{mr:1}}),(0,Z.jsx)(i.Z,{sx:{fontFamily:"ubuntu"},children:"Back to home page"})]})]})})})}},2904:function(e,t,n){e.exports=n.p+"static/media/manga_bg.0caf449a4b8f94c985af.jpg"}}]);
//# sourceMappingURL=496.fde294d4.chunk.js.map