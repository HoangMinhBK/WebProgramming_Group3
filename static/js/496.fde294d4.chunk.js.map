{"version":3,"file":"static/js/496.fde294d4.chunk.js","mappings":"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","sources":["pages/Login/handleLogin.js","pages/Login/index.jsx"],"sourcesContent":["import Axios from \"axios\";\nimport { baseURL } from \"src/configs/api\";\n// test account:\n//username: rwackley0\n//pass: lP1bSYs5hfZ\nexport default async function handleLogin(username, password) {\n  let payload = { username: username, password: password };\n  try {\n    let res = await Axios.post(baseURL + \"login\", payload);\n    if (res.status === 200) {\n      localStorage.setItem(\"account\", username);\n      localStorage.setItem(\"jwt\", res.data.token);\n      return res.status;\n    }\n  } catch (err) {\n    return err.response?.status;\n  }\n}\n","import { TextField, Box, Typography, Button } from \"@mui/material\";\nimport { useCustomTheme } from \"src/contexts/themeContext\";\nimport { useHistory } from \"react-router-dom\";\nimport Background from \"src/assets/images/manga_bg.jpg\";\nimport ArrowBackIcon from \"@mui/icons-material/ArrowBack\";\nimport { useState, useEffect } from \"react\";\nimport { useAccountContext } from \"src/contexts/accountContext\";\nimport handleLogin from \"./handleLogin\";\nimport { useSnackbar } from \"notistack\";\n\nexport default function Login() {\n  const {\n    aliceBlue,\n    uranianBlue,\n    lightSkyBlue,\n    blueJeans,\n    blueJeans2,\n    dodgerBlue,\n    bleuDeFrance,\n    brightNavyBlue,\n    greenBlue,\n    cobaltBlue,\n  } = useCustomTheme();\n\n  const history = useHistory();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n  const { setAccount } = useAccountContext();\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  useEffect(() => {\n    console.log(status);\n    if (status === 200) {\n      setAccount(username);\n      enqueueSnackbar(\"Login successfully!\", { variant: \"success\" });\n      history.push(\"/\");\n      setStatus(\"\");\n    } else if (status === 404) {\n      setAccount(undefined);\n      enqueueSnackbar(\"Login Failed! Please try again!\", { variant: \"error\" });\n      setStatus(\"\");\n    }\n  }, [enqueueSnackbar, history, setAccount, status, username]);\n\n  return (\n    <Box\n      height=\"100vh\"\n      width=\"100%\"\n      sx={{\n        // backgroundImage: `linear-gradient(to bottom, ${cobaltBlue} , ${blueJeans2})`,\n        backgroundImage: `linear-gradient(to bottom, ${cobaltBlue} , ${blueJeans2}), url(${Background})`,\n        backgroundPosition: \"center\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundSize: \"cover\",\n        backgroundBlendMode: \"multiply\",\n        backgroundOpacity: 0.3,\n        backgroundBlur: \"100px\",\n      }}\n      display=\"flex\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      <Box\n        height={500}\n        width={400}\n        display=\"flex\"\n        flexDirection=\"column\"\n        sx={{ background: \"white\", borderRadius: 5 }}\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        <Box\n          height={400}\n          width={350}\n          display=\"flex\"\n          flexDirection=\"column\"\n          alignItems=\"center\"\n          justifyContent=\"space-between\"\n        >\n          <Typography\n            variant=\"h5\"\n            sx={{\n              fontFamily: \"ubuntu\",\n              fontWeight: \"bold\",\n            }}\n          >\n            Login to HUST Manga\n          </Typography>\n          <Box\n            width={350}\n            display=\"flex\"\n            flexDirection=\"column\"\n            alignItems=\"center\"\n          >\n            <TextField\n              type=\"text\"\n              label=\"Username\"\n              fullWidth\n              sx={{ mb: 3 }}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n            <TextField\n              label=\"Password\"\n              type=\"password\"\n              fullWidth\n              sx={{ mb: 3 }}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <Button\n              variant=\"contained\"\n              fullWidth\n              type=\"submit\"\n              disabled={username === \"\" || password === \"\"}\n              sx={{ height: 50, background: dodgerBlue, mb: 3 }}\n              onClick={async () => {\n                const res = await handleLogin(username, password);\n                setStatus(res);\n              }}\n            >\n              <Typography\n                sx={{\n                  fontFamily: \"ubuntu\",\n                  fontWeight: \"bold\",\n                }}\n              >\n                Login\n              </Typography>\n            </Button>\n            <Box display=\"flex\">\n              <Typography sx={{ fontFamily: \"ubuntu\", mr: 0.5 }}>\n                Don't have an account?{\" \"}\n              </Typography>\n              <Typography\n                onClick={() => history.push(\"/register\")}\n                sx={{\n                  fontFamily: \"ubuntu\",\n                  cursor: \"pointer\",\n                  color: bleuDeFrance,\n                }}\n              >\n                Register\n              </Typography>\n            </Box>\n          </Box>\n          <Box\n            display=\"flex\"\n            sx={{ cursor: \"pointer\" }}\n            onClick={() => history.push(\"/\")}\n          >\n            <ArrowBackIcon sx={{ mr: 1 }} />\n            <Typography sx={{ fontFamily: \"ubuntu\" }}>\n              Back to home page\n            </Typography>\n          </Box>\n        </Box>\n      </Box>\n    </Box>\n  );\n}\n"],"names":["handleLogin","username","password","payload","Axios","baseURL","res","status","localStorage","setItem","data","token","response","Login","useCustomTheme","blueJeans2","aliceBlue","uranianBlue","lightSkyBlue","blueJeans","dodgerBlue","bleuDeFrance","cobaltBlue","brightNavyBlue","greenBlue","history","useHistory","useState","setUsername","setPassword","setStatus","setAccount","useAccountContext","enqueueSnackbar","useSnackbar","useEffect","console","log","variant","push","undefined","Box","height","width","sx","backgroundImage","Background","backgroundPosition","backgroundRepeat","backgroundSize","backgroundBlendMode","backgroundOpacity","backgroundBlur","display","justifyContent","alignItems","flexDirection","background","borderRadius","Typography","fontFamily","fontWeight","TextField","type","label","fullWidth","mb","onChange","e","target","value","Button","disabled","onClick","mr","cursor","color","ArrowBack"],"sourceRoot":""}